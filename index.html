<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GearGen - 3D Gear Generator</title>
    <link rel="stylesheet" href="./src/css/main.css">
    <link rel="stylesheet" href="./src/css/theme.css">
    <link rel="stylesheet" href="./src/css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/exporters/STLExporter.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-cogs"></i>
                <h1>GearGen</h1>
                <span class="tagline">3D Gear Generator</span>
            </div>
            <div class="header-actions">
                <button id="help-btn" class="btn btn-secondary">
                    <i class="fas fa-question-circle"></i> Help
                </button>
                <button id="github-btn" class="btn btn-secondary">
                    <i class="fab fa-github"></i> GitHub
                </button>
            </div>
        </div>
    </header>

    <main class="container main-content">
        <div class="app-layout">
            <!-- Left Panel: Gear Type Selection -->
            <div class="panel left-panel">
                <div class="panel-header">
                    <h2><i class="fas fa-filter"></i> Gear Type</h2>
                </div>
                <div class="gear-types">
                    <div class="gear-type-card active" data-type="spur">
                        <div class="gear-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h3>Spur Gear</h3>
                        <p>Straight teeth parallel to axis</p>
                        <span class="status-badge status-active">Available</span>
                    </div>
                    
                    <div class="gear-type-card" data-type="helical">
                        <div class="gear-icon">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <h3>Helical Gear</h3>
                        <p>Angled teeth for smoother operation</p>
                        <span class="status-badge status-coming">Coming Soon</span>
                    </div>
                    
                    <div class="gear-type-card" data-type="bevel">
                        <div class="gear-icon">
                            <i class="fas fa-concierge-bell"></i>
                        </div>
                        <h3>Bevel Gear</h3>
                        <p>Conical shape for right-angle drive</p>
                        <span class="status-badge status-coming">Coming Soon</span>
                    </div>
                    
                    <div class="gear-type-card" data-type="worm">
                        <div class="gear-icon">
                            <i class="fas fa-worm"></i>
                        </div>
                        <h3>Worm Gear</h3>
                        <p>Screw-like gear for high reduction</p>
                        <span class="status-badge status-coming">Coming Soon</span>
                    </div>
                    
                    <div class="gear-type-card" data-type="rack">
                        <div class="gear-icon">
                            <i class="fas fa-sliders-h"></i>
                        </div>
                        <h3>Rack Gear</h3>
                        <p>Linear gear for conversion</p>
                        <span class="status-badge status-coming">Coming Soon</span>
                    </div>
                    
                    <div class="gear-type-card" data-type="internal">
                        <div class="gear-icon">
                            <i class="fas fa-circle-notch"></i>
                        </div>
                        <h3>Internal Gear</h3>
                        <p>Teeth on the inside surface</p>
                        <span class="status-badge status-coming">Coming Soon</span>
                    </div>
                    
                    <div class="gear-type-card" data-type="planetary">
                        <div class="gear-icon">
                            <i class="fas fa-globe-americas"></i>
                        </div>
                        <h3>Planetary Gear</h3>
                        <p>Multiple gears in planetary system</p>
                        <span class="status-badge status-coming">Coming Soon</span>
                    </div>
                </div>
            </div>

            <!-- Center Panel: 3D Preview -->
            <div class="panel center-panel">
                <div class="panel-header">
                    <h2><i class="fas fa-eye"></i> 3D Preview</h2>
                    <div class="preview-controls">
                        <button id="reset-view" class="btn btn-small">
                            <i class="fas fa-redo"></i> Reset View
                        </button>
                        <button id="toggle-grid" class="btn btn-small">
                            <i class="fas fa-th"></i> Grid
                        </button>
                        <button id="toggle-axis" class="btn btn-small">
                            <i class="fas fa-arrows-alt"></i> Axis
                        </button>
                        <button id="toggle-wireframe" class="btn btn-small">
                            <i class="fas fa-th-large"></i> Wireframe
                        </button>
                    </div>
                </div>
                <div class="preview-container">
                    <div id="preview-canvas"></div>
                    <div class="preview-stats">
                        <div class="stat-item">
                            <span class="stat-label">Vertices:</span>
                            <span id="vertex-count" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Faces:</span>
                            <span id="face-count" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Size:</span>
                            <span id="gear-size" class="stat-value">0 mm</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Parameters and Export -->
            <div class="panel right-panel">
                <div class="panel-header">
                    <h2><i class="fas fa-sliders-h"></i> Parameters</h2>
                </div>
                
                <div class="parameters-form">
                    <div class="parameter-group">
                        <h3><i class="fas fa-ruler-combined"></i> Basic Dimensions</h3>
                        
                        <div class="parameter">
                            <label for="module">
                                Module (mm)
                                <span class="tooltip" title="Size of teeth (pitch diameter / teeth count)">
                                    <i class="fas fa-info-circle"></i>
                                </span>
                            </label>
                            <input type="number" id="module" min="0.5" max="20" step="0.5" value="2">
                        </div>
                        
                        <div class="parameter">
                            <label for="teeth">
                                Number of Teeth
                                <span class="tooltip" title="Total number of teeth on the gear">
                                    <i class="fas fa-info-circle"></i>
                                </span>
                            </label>
                            <input type="number" id="teeth" min="8" max="200" step="1" value="20">
                        </div>
                        
                        <div class="parameter">
                            <label for="pressure-angle">
                                Pressure Angle (째)
                                <span class="tooltip" title="Angle between tooth face and gear wheel tangent">
                                    <i class="fas fa-info-circle"></i>
                                </span>
                            </label>
                            <select id="pressure-angle">
                                <option value="20">20째 (Common)</option>
                                <option value="14.5">14.5째 (Legacy)</option>
                                <option value="25">25째 (High Load)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <h3><i class="fas fa-cube"></i> Gear Body</h3>
                        
                        <div class="parameter">
                            <label for="face-width">
                                Face Width (mm)
                                <span class="tooltip" title="Thickness of the gear">
                                    <i class="fas fa-info-circle"></i>
                                </span>
                            </label>
                            <input type="number" id="face-width" min="1" max="100" step="1" value="10">
                        </div>
                        
                        <div class="parameter">
                            <label for="hub-diameter">
                                Hub Diameter (mm)
                                <span class="tooltip" title="Diameter of the central hub">
                                    <i class="fas fa-info-circle"></i>
                                </span>
                            </label>
                            <input type="number" id="hub-diameter" min="0" max="50" step="1" value="10">
                        </div>
                        
                        <div class="parameter">
                            <label for="bore-diameter">
                                Bore Diameter (mm)
                                <span class="tooltip" title="Diameter of the central hole">
                                    <i class="fas fa-info-circle"></i>
                                </span>
                            </label>
                            <input type="number" id="bore-diameter" min="0" max="20" step="0.5" value="5">
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <h3><i class="fas fa-palette"></i> Appearance</h3>
                        
                        <div class="parameter">
                            <label for="color">Gear Color</label>
                            <input type="color" id="color" value="#3498db">
                        </div>
                        
                        <div class="parameter">
                            <label for="quality">Mesh Quality</label>
                            <select id="quality">
                                <option value="low">Low (Fast)</option>
                                <option value="medium" selected>Medium (Recommended)</option>
                                <option value="high">High (Detailed)</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="export-section">
                    <h3><i class="fas fa-download"></i> Export</h3>
                    <div class="export-buttons">
                        <button id="export-stl" class="btn btn-primary btn-export">
                            <i class="fas fa-cube"></i> Download STL
                        </button>
                        <button id="export-step" class="btn btn-secondary btn-export" disabled>
                            <i class="fas fa-file-export"></i> Download STEP
                            <span class="badge">Soon</span>
                        </button>
                    </div>
                    <div class="export-info">
                        <p><strong>STL:</strong> Ready for 3D printing</p>
                        <p><strong>STEP:</strong> For CAD software (coming soon)</p>
                    </div>
                </div>
                
                <div class="info-notice">
                    <i class="fas fa-info-circle"></i>
                    <p>Currently only <strong>Spur Gears</strong> are available. Other gear types will be implemented soon.</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>GearGen - 3D Gear Generator &copy; 2024</p>
            <p class="footer-links">
                <a href="#"><i class="fas fa-book"></i> Documentation</a>
                <a href="#"><i class="fas fa-bug"></i> Report Issue</a>
                <a href="#"><i class="fas fa-envelope"></i> Contact</a>
            </p>
        </div>
    </footer>

    <!-- JavaScript Files -->
    <script src="./src/js/utils/math-utils.js"></script>
    <script src="./src/js/gear-types/spur-gear.js"></script>
    <script src="./src/js/renderer/threejs-setup.js"></script>
    <script src="./src/js/renderer/scene-manager.js"></script>
    <script src="./src/js/renderer/gear-renderer.js"></script>
    <script src="./src/js/exporters/stl-exporter.js"></script>
    <script src="./src/js/ui/parameter-ui.js"></script>
    <script src="./src/js/ui/preview-panel.js"></script>
    <script src="./src/js/ui/export-ui.js"></script>
    <script src="./src/js/main.js"></script>
</body>
</html>
